
# Glosario de términos

> *It's dangerous to go alone, take this.*

Tener en mente *todos* los conceptos y sus expresiones que aparecen en un libro como este es prácticamente imposible. Tampoco hay necesidad de ello, realmente. ¡Vaya desperdicio de cabeza! Por eso, aquí tienes recopilada una lista con todos los elementos importantes y un enlace a sus secciones correspondientes.

## Notación

| **Concepto**                                        | **Notación**                                                                                                                          |
|:----------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------|
| **Escalares**                                       | Letras minúsculas. Generalmente, $a, b, c, k, \dots$                                                                                  |
| **Puntos**                                          | Letras minúsculas. Generalmente, $p, q, \dots$                                                                                        |
| **Vectores**                                        | Letras minúsculas en negrita: $\mathbf{v, w, n}, \dots$. Si están normalizados, se les pone gorrito (por ejemplo, $\hat{\mathbf{n}}$) |
| **Matrices**                                        | Letras mayúsculas en negrita: $\mathbf{M}$. Por columnas.                                                                             |
| **Producto escalar**                                | $\mathbf{v} \cdot \mathbf{w}$. Si es el producto escalar de un vector consigo mismo, a veces pondremos $\mathbf{v}^2$                 |
| **Producto vectorial**                              | $\mathbf{v} \times \mathbf{w}$                                                                                                        |


## [Bases de Ray Tracing](#las-bases)

| **Concepto**                                    | **Expresiones y comentarios**                                                                                                                                                                             |
|:------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Rayo**](#eq:rayo)                            | $P(t) = o + td$                                                                                                                                                                                           |
| [**Ray casting**](#eq:rayo)                     | Disparar un rayo hacia la escena virtual, de forma que impacta con alguna superficie.                                                                                                                     |
| [**Normal en un punto**](#eq:normal_superficie) | Vector perpendicular a cualquier punto de la superficie: $\mathbf{n} = \nabla F(P) = \left( \frac{\partial F(P)}{\partial x}, \frac{\partial F(P)}{\partial y}, \frac{\partial F(P)}{\partial z}\right )$ |



## [Transporte de luz](#transporte-de-luz)

| **Concepto**                                                                                    | **Expresiones y comentarios**                                                                                                                                                                                                                                                                                                                                                                                 |
|:------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Carga de energía**](#unidades-básicas)                                                       | Energía de un fotón. <br> \newline $Q = hf = \frac{hc}{\lambda}$                                                                                                                                                                                                                                                                                                                                                       |
| [**Flujo radiante o potencia**](#potencia)                                                      | Tasa de producción de energía de una fuente de luz. <br> \newline $\begin{aligned}& \Phi = \frac{dQ}{dt} \\ & \Phi = \int_{A}\int_{H^2(\mathbf{n})}{L_o(p, \omega) d\omega^\bot dA}\end{aligned}$                                                                                                                                                                                                                      |
| [**Irradiancia o radiancia emitida**](#irradiancia)                                             | Flujo radiente que recibe una superficie. <br> \newline $\begin{aligned} & E = \frac{\Phi}{A} \\ & E(p) = \frac{d\Phi}{dA} \\ & E(p, \mathbf{n}) = \int_{\Omega}{L_i(p, \omega) \abs{cos\theta} d\omega} \\ & E(p, \mathbf{n}) = \int_{0}^{2\pi}\int_{0}^{\pi/2}{L_i(p, \theta, \phi) \cos\theta\ \sin\theta\ d\theta\ d\phi} \\ & E(p, \mathbf{n}) = \int_{A}{L\cos\theta\ \frac{\cos\theta_o}{r^2}dA} \end{aligned}$ |
| [**Ángulo sólido**](#ángulos-sólidos), derivada [{@eq:d_omega}] [@eq:diferencial_angulo_solido] | Medida del campo de visión de un objeto desde un cierto punto. A veces un vector unitario en la esfera. <br> \newline $\omega = \frac{A}{r^2}$ <br> \newline $d\omega = \sin\theta\ d\theta\ d\phi$ <br> \newline $d\omega = \frac{dA\cos\theta}{r^2}$                                                                                                                                                        |
| [**Coordenadas esféricas**](#eq:coordenadas_esféricas)                                          | Sistema de coordenadas $(r, \theta, \phi)$ usado habitualmente para describir posiciones en una esfera. <br> \newline $x = \sin\theta\cos\phi,\ y = \sin\theta\sin\phi,\ z = \cos\theta$                                                                                                                                                                                                                               |
| [**Intensidad radiante**](#intensidad_radiante)                                                 | Densidad angular de flujo radiante. <br> \newline $I = \frac{d\Phi}{d\omega}$                                                                                                                                                                                                                                                                                                              |
| [**Radiancia**](#radiancia)                                                                     | Flujo radiante emitido en un cierto cono de direcciones. <br> \newline $\begin{aligned} & L(p, \omega) = \frac{dE_\omega(p)}{d\omega} \\ & L(p, \omega) = \frac{d^2\Phi(p, \omega)}{d\omega\ dA^\bot} = \frac{d^2\Phi(p, \omega)}{d\omega\ dA\ \cos\theta} \\ & L^+(p, \omega) = \lim_{t \to 0^+}{L(p + t\mathbf{n}_p, \omega)} \\ & L^-(p, \omega)  = \lim_{t \to 0^-}{L(p + t\mathbf{n}_p, \omega)} \end{aligned}$   |
| [**Radiancia incidente**](#radiancia)                                                           | Radiancia que recibe una superficie desde la dirección $\omega$. <br> \newline $\begin{aligned} L_i(p, \omega) = \begin{cases} L^+(p, -\omega) & \text{si }  \omega \cdot \mathbf{n}_p > 0  \\ L^-(p, -\omega) & \text{si }  \omega \cdot \mathbf{n}_p < 0 \end{cases}\end{aligned}$                                                                                                                                   |
| [**Radiancia reflejada o de salida**](#radiancia)                                               | Radiancia que emite una superficie hacia una dirección $\omega$. <br> \newline $\begin{aligned} & L_o(p, \omega) = \begin{cases} L^+(p, \omega)  & \text{si }  \omega \cdot \mathbf{n}_p > 0 \\ L^-(p, \omega)  & \text{si }  \omega \cdot \mathbf{n}_p < 0 \end{cases} \end{aligned}$                                                                                                                                 |
| [**BRDF**](#la-función-de-distribución-de-reflectancia-bidireccional-brdf)                      | Cómo se dispersa la luz cuando impacta una superficie dependiendo de la dirección. <br> \newline $\begin{aligned}& f_r(p, \omega_o \leftarrow \omega_i) = \frac{dL_o(p, \omega_o)}{dE(p, \omega_i)} = \frac{dL_o(p, \omega_o)}{L_i(p, \omega_i) \cos\theta_i\ d\omega_i}\end{aligned}$                                                                                                                                 |
| [**BTDF**](#la-función-de-distribución-de-transmitancia-bidireccional-btdf)                     | Cómo se transmite la luz cuando impacta una superficie dependiendo de la dirección. <br> \newline $f_t(p, \omega_o \leftarrow \omega_i)$                                                                                                                                                                                                                                                                               |
| [**BSDF**](#la-función-de-distribución-de-dispersión-bidireccional-bsdf)                        | Combinación de la BRDF y la BTDF. <br> \newline $f(p, \omega_o \leftarrow \omega_i)$                                                                                                                                                                                                                                                                                                                                   |
| [**Ecuación de dispersión**](#la-función-de-distribución-de-dispersión-bidireccional-bsdf)      | Ecuación para la radiancia emitida hacia una dirección en un cierto punto. <br> \newline $\begin{aligned}L_o(p, \omega_o) = \int_{\mathbb{S}^2}{f(p, \omega_o \leftarrow \omega_i)L_i(p, \omega_i)\abs{\cos\theta_i} d\omega_i}\end{aligned}$                                                                                                                                                                          |
| **Hemisferio de direcciones alrededor de un vector**                                            | $H^2(\mathbf{n})$                                                                                                                                                                                                                                                                                                                                                                                             |
| [**Albedo o reflectancia hemisférica**](#reflectancia-hemisférica)                              | Proporción de luz reflejada por una superficie. <br> \newline $\rho_{hd}(\omega_o) = \int_{H^2(n)}{f_r(p, \omega_o \leftarrow \omega_i) \abs{\cos\theta_i}\ d\omega_i}$                                                                                                                                                                                                                                                |
| [**Tipos de materiales**](#tipos-de-dispersión)                                                 | Difusos, especulares brillantes, especulares perfectos, retrorreflectores                                                                                                                                                                                                                                                                                                                                     |
| [**Reflexión**](#reflexión)                                                                     | Efecto de la luz cuando impacta un espejo. <br> \newline $\mathbf{r} = \mathbf{i} - 2 (\mathbf{i} \cdot \mathbf{n}) \mathbf{n}$                                                                                                                                                                                                                                                                                        |
| [**Ley de Snell**](#ley-de-snell)                                                               | Relación entre los ángulos de un rayo al cambiar de medio. <br> \newline $\eta_1 \sin\theta_1 = \eta_2 \sin\theta_2$                                                                                                                                                                                                                                                                                                   |
| [**Aproximación de Schlick**](#la-aproximación-de-schlick)                                      | Simplificación de las ecuaciones de Fresnel.<br> \newline$R(\theta_1) = R_0 + (1 - R_0)(1 - \cos\theta_1)^5$                                                                                                                                                                                                                                                                                                           |
| [**Rendering equation o ecuación del transporte de luz**](#la-rendering-equation)               | La ecuación más importante de la informática gráfica. Describe analíticamente la cantidad de luz de un punto en función de su entorno. <br> \newline$L_o(p, \omega_o) = L_e(p, \omega_o) + \int_{H^2(\mathbf{n})}{f(p, \omega_o \leftarrow \omega_i) L_i(p, \omega_i) \cos\theta_i\ d\omega_i}$                                                                                                                        |


## [Métodos de Monte Carlo](#métodos-de-monte-carlo)

| **Concepto**                                                                    | **Expresiones**                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:--------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Variable aleatoria**](#repaso-de-probabilidad)                               | Regla que asigna un valor numérico a cada caso de un proceso de azar. <br> \newline Usualmente, $X, Y, \xi$...                                                                                                                                                                                                                                                                                                                                   |
| **Función masa de probabilidad** (discretas) o **de densidad** (continuas)      | Función que permite conocer la probabilidad de un suceso. <br> \newline Discretas: $\Prob{X \in \text{Conjunto}}$ <br> \newline Continuas: $f_X, p_X$                                                                                                                                                                                                                                                                                                     |
| **Función de distribución**                                                     | Probabilidad de que una variable aleatoria se quede por debajo de un cierto valor. <br> \newline $F_X(x) = \Prob{X \le x}$                                                                                                                                                                                                                                                                                                                       |
| [**Esperanza**](#esperanza-y-varianza-de-una-variable-aleatoria)                | Generalización de la media ponderada para una cierta variable aleatoria. <br> \newline $\E{X}$                                                                                                                                                                                                                                                                                                                                                   |
| [**Varianza**](#esperanza-y-varianza-de-una-variable-aleatoria)                 | Medida de la dispersión de la distribución de una variable aleatoria. <br> \newline $\Var{X}$                                                                                                                                                                                                                                                                                                                                                    |
| [**Estimador**](#estimadores)                                                   | Función de la muestra de una variable aleatoria que toma valores en el conjunto de parámetros de una distribución. <br> \newline $T(X_1, \dots, X_n) = \theta \in \Theta$                                                                                                                                                                                                                                                                        |
| [**Estimador de Monte Carlo**](#monte-carlo-básico)                             | Estimador cuya esperanza es la media de una variable aleatoria <br> \newline $\hat\mu_N = \frac{1}{N} \sum_{i = 1}^{N}{Y_i}$ $\Rightarrow \E{\hat\mu_N} = \mu$                                                                                                                                                                                                                                                                                   |
| [**Estimador de Monte Carlo (para una integral)**](#integración-de-monte-carlo) | Estimador de Monte Carlo que permite conocer el valor de una integral $\int_S f(x) p_X(x) dx$ a partir de muestras de una variable aleatoria $X \sim p_X$ <br> \newline \newline Simple: $\hat{I}_N = \frac{1}{N} \sum_{i = 1}^{N}{f(X_i)}$ <br> \newline Por importancia: $\tilde{I}_N = \frac{1}{N} \sum_{i=1}^N{\frac{f(X_i)p_X(X_i)}{q_X(X_i)}}, \quad X_i \sim q_X$ <br> \newline Transporte de luz: $\tilde{I}_N = \frac{1}{N} \sum_{i=1}^N{\frac{f(X_i)}{p_X(X_i)}}$ |
| **Orden de convergencia del estimador de Monte Carlo**                          | $\mathcal{O}(N^{-1/2})$                                                                                                                                                                                                                                                                                                                                                                                                                 |


## [Construyamos un path tracer](#construyamos-un-path-tracer)

| **Concepto**                                                                                                    | **Expresiones**                                                                                                                                                 |
|:----------------------------------------------------------------------------------------------------------------|:----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Rasterización**                                                                                               | Técnica de producción de imágenes por ordenador en la que la geometría virtual es proyectada en un plano 2D.                                                    |
| **Ray tracing**                                                                                                 | Algoritmo basado en la generación de rayos de luz que permite generar imágenes más realistas que en rasterización                                               |
| **Path tracing**                                                                                                | Algoritmo basado en ray tracing en el que se simulan múltiples caminos de luz.                                                                                  |
| [**Ecuación del transporte de luz estimada por Monte Carlo**](#estimando-la-rendering-equation-con-monte-carlo) | $\frac{1}{N} \sum_{j = 1}^{N}{\frac{f(p, \omega_o \leftarrow \omega_j) L_i(p, \omega_j) \cos\theta_j}{p(\omega_j)}}$                                            |
| **Rendering engine o motor**                                                                                    | Software diseñado para producir imágenes de entornos virtuales utilizando hardware específico.                                                                  |
| **GPU** (Graphics Processing Unit)                                                                              | Tarjeta gráfica; dispositivo especializado en la aceleración de cálculos necesarios en la producción de imágenes.                                               |
| [**Graphic API**](#frameworks-y-API-de-ray-tracing-en-tiempo-real)                                              | Interaz de programación de aplicaciones para la creación de imágenes por ordenador.                                                                             |
| [**Vulkan**](#frameworks-y-API-de-ray-tracing-en-tiempo-real)                                                   | API gráfica de código abierto desarrollada por Khonos.                                                                                                          |
| [**Estructura de aceleración**](#estructuras-de-aceleración)                                                    | Forma de representar la geometría de una escena de manera que se optimicen las intersecciones de objetos y rayos                                                |
| [**Bounding Volume Hierarchy (BVH)**](#estructuras-de-aceleración)                                              | Tipo de estructura de aceleración basada en cajas delimitantes (*bounding boxes*)                                                                               |
| [**Axis-Aligned Bounding Box (AABB)**](#estructuras-de-aceleración)                                             | Tipo de BVH alineada con los ejes virtuales.                                                                                                                    |
| [**Bottom-Level Acceleration Structure (BLAS)**](#bottom-level-acceleration-structure-blas)                     | Estructura utilizada por Vulkan para almacenar la geometría de un objeto individual.                                                                            |
| [**Top-Level Acceleration Structure (TLAS)**](#top-level-acceleration-structure-tlas)                           | Estructura utilizada por Vulkan para guardar la información de las instancias de un objeto.                                                                     |
| **Shader**                                                                                                      | Programa que se ejecuta en una tarjeta gráfica.                                                                                                                 |
| [**Ray generation shader**](#tipos-de-shaders)                                                                  | Shader que se encarga de la generación inicial de rayos.                                                                                                        |
| [**Closest hit shader**](#tipos-de-shaders)                                                                     | Shader que se ejecuta para el primer impacto de un rayo con una geometría válida.                                                                               |
| [**Any-hit shader**](#tipos-de-shaders)                                                                         | Similar al closest hit. Shader que corre en cada intersección.                                                                                                  |
| [**Miss shader**](#tipos-de-shaders)                                                                            | Shader que se ejecuta cuando no se impacta ninguna geometría.                                                                                                   |
| [**Intersection shader**](#tipos-de-shaders)                                                                    | Shader que se encarga de computar intersecciones con objetos.                                                                                                   |
| [**Shader Binding Table (SBT)**](#la-shader-binding-table)                                                      | Estructura específica de ray tracing que permite guardar referencias a shaders y sus parámetros para ser ejecutadas cuando se impacte una geometría específica. |
| [**Push constant**](#traspaso-de-información-entre-shaders)                                                     | Estructura que almacena elementos constantes comunes para todos los tipos de shaders.                                                                           |
| [**Payload**](#traspaso-de-información-entre-shaders)                                                           | Estructura que permite traspasar información variable entre diferentes shaders.                                                                                 |
| [**Wavefront**](#materiales-y-objetos)                                                                          | Formato de archivo que permite abstraer objetos virtuales y sus tipos de materiales.                                                                            |
| [**Antialiasing**](#antialiasing-mediante-jittering-y-acumulación-temporal)                                     | Técnica para suavizar los dientes de sierra generados por líneas diagonales.                                                                                    |
| [**Corrección de gamma**](#corrección-de-gamma)                                                                 | Operación utilizada en fotografía para corregir la luminancia con el fin de compensar la percepción no lineal del brillo por parte de los humanos.              |


## [Análisis de rendimiento](#análisis-de-rendimiento)

| **Concepto**                                                | **Expresiones**                                                                                                          |
|:------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------|
| [**Frame time**](#requisitos-de-ray-tracing-en-tiempo-real) | Tiempo que tarda un motor en renderizar una imagen. Medido en milisegundos.                                              |
| [**Frame rate**](#requisitos-de-ray-tracing-en-tiempo-real) | Tasa de imágenes por segundo (FPS, *frames per second*) que es capaz de producir un motor. Es la inversa del frame time. |
| [**Iluminación global**](#iluminación-global)               | Fenómeno físico producido por el rebote constante de fotones en un entorno. Es difícil simular sin path tracing.         |

# Bibliografía {.unnumbered}